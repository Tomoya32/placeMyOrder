<!-- Template to load -->
<script type="text/stache" id="demo" can-autorender>
  <can-import from="less/styles.less!" />
  <can-import from="ui/bit_graph/bit_graph"/>
  <can-import from="app/models/order" />  
  <div class="order-analytics">
    <h2 class="page-header">Amount Spent Per Order</h2>
    <order-model findAll="{slug='cheese-curd-city'}" [cheesecurdcity]="{value}"/>
    <order-model findAll="{slug='poutine-palace'}" [poutinepalace]="{value}"/>
    <bit-graph>
      <bit-series data="{../cheesecurdcity.totals}" />
      <bit-series data="{../poutinepalace.totals}" color="#0F0" />
      <bit-series data="{anotherSeries}" color="#F00" />
    </bit-graph>
  </div>
</script>

<!-- Loading Script -->
<script src="../../../node_modules/steal/steal.js" id="demo_source" main="can/view/autorender/">
import can from "can";

// var anotherSeriesData = new can.List([
//   90, 65, 13.5, 38
// ]);

// var vm = $("#demo").viewModel();
// vm.attr({
//   anotherSeries: anotherSeriesData
// });

// window.setInterval(() => {
//   var val = Math.floor(Math.random() * 100) + 1;
//   can.batch.start();
//     console.log('pushing', val);
//     anotherSeriesData.push(val);
//   can.batch.stop();
// }, 8000);

</script>
