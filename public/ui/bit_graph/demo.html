<!-- Template to load -->
<script type="text/stache" id="demo" can-autorender>
<can-import from="ui/bit_graph/bit_graph"/>
<bit-graph title="{title}">
  <bit-series data="{data1}" />
  <bit-series data="{data2}" />
</bit-graph>
</script>

<!-- Loading Script -->
<script src="../../node_modules/steal/steal.js" id="demo_source" main="can/view/autorender/">
import $ from "jquery";
import can from "can";

var seriesData = new can.List([
  1,
  2,
  3,
  4,
  5,
  3,
  1,
  3,
  5
]);
var anotherSeries = new can.List([
  300,
  500,
  700
]);

var vm = $("#demo").viewModel();
vm.attr({
  title: "Demo Graph",
  data1: seriesData,
  data2: anotherSeries
});

window.setInterval(() => {
  var val = Math.floor(Math.random() * 1000) + 1;
  can.batch.start();
    console.log('pushing', val);
    anotherSeries.push(val);
  can.batch.stop();
}, 8000);

</script>
<script>
  window.DEMO_HTML = document.getElementById("demo").innerHTML.replace('<can-import from="ui/bit_graph/bit_graph"/>', '');
  window.DEMO_SOURCE = document.getElementById("demo_source").innerHTML;
</script>
